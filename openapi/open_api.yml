openapi: 3.0.1
info:
  title: Pagopa payment gateway Mock
  version: '1.0.0'
tags:
  - name: paypalmock
    description: todo
  - name: paypalmanagement
    description: todo
paths:
  /paypalpsp/api/pp_onboarding_back:
    post:
      tags:
        - paypalmock
      summary: server to server api used to start onboarding
      requestBody:
        description: New Onboarding required
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartOnboardingRequest'

      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartOnboardingResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartOnboardingResponseError'
      security:
        - bearerAuth: []
  /paypalpsp/api/pp_pay_direct:
    post:
      tags:
        - paypalmock
      summary: server to server api used to pay
      requestBody:
        description: PpPayDirectRequest
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PpPayDirectRequest'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpDirectResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpDirectResponseError'
      security:
        - bearerAuth: []
  /paypalpsp/api/pp_refund_direct:
    post:
      tags:
        - paypalmock
      summary: server to server api used to refund
      requestBody:
        description: PpRefundDirectRequest
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PpRefundDirectRequest'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpRefundDirectResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpRefundDirectResponseError'
      security:
        - bearerAuth: []
  /paypalpsp/api/pp_bilagr_del:
    post:
      tags:
        - paypalmock
      requestBody:
        description: PPPayPalIdAppIoRequest
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PPPayPalIdAppIoRequest'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpDefaultResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpDefaultResponseError'
      security:
        - bearerAuth: []
  /paypalweb/pp_onboarding_call:
    get:
      tags:
        - paypalmock
      parameters:
        - in: query
          name: id_back
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Response
          content:
            string:
              schema:
                type: string
  /paypalpsp/management/response:
    patch:
      tags:
        - paypalmanagement
      requestBody:
        description: PpOnboardingBackManagementRequest
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PpOnboardingBackManagementRequest'
      responses:
        default:
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpOnboardingBackManagementResponse'
      security:
        - bearerAuth: []
    get:
      tags:
        - paypalmanagement
      parameters:
        - in: query
          name: apiId
          required: false
          schema:
            type: string
            enum:
              - "ONBOARDING"
              - "PAYMENT"
              - "REFUND"
              - "DELETE"
              - "ONBOARDING_REDIRECT"
      responses:
        default:
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpResponseErrorInfo'
      security:
        - bearerAuth: []
  /paypalpsp/management/response/{idAppIo}:
    get:
      tags:
        - paypalmanagement
      parameters:
        - in: path
          name: idAppIo
          required: true
          schema:
            type: string
      responses:
        default:
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PpOnboardingBackManagementResponse'
  /postepay/api/v1/payment/create:
    post:
      operationId: createPayment
      tags:
        - Payment Manager Controller
      summary: Inzializzazione della transazione di pagamento
      description: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                description: ""
                required:
                  - paymentID
                  - userRedirectURL
                type: object
                properties:
                  paymentID:
                    description: identificativo della transazione di pagamento assegnato
                      da PosteItaliane
                    type: string
                  userRedirectURL:
                    description: URL verso cui redirigere l'utente per portare a compimento
                      la transazione
                    type: string
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostePayError'
  /postepay/api/v1/user/onboarding:
    post:
      tags:
        - Payment Manager Controller
      operationId: userPostepayOnboarding
      summary: Postepay user onboarding
      description: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OnboardingPostepayRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                description: ""
                required:
                  - onboardingID
                  - userRedirectURL
                type: object
                properties:
                  onboardingID:
                    description: identificativo della transazione di pagamento assegnato
                      da PosteItaliane
                    type: string
                  userRedirectURL:
                    description: URL verso cui redirigere l'utente per portare a compimento
                      la transazione
                    type: string
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostePayError'
  /postepayweb/change/outcome:
    post:
      operationId: changeOutcomePostePay
      tags:
        - Payment Manager Controller
      parameters:
        - in: query
          name: paymentOutcome
          schema:
            type: string
        - in: query
          name: timeoutMs
          schema:
            type: integer
      responses:
        "200":
          description: OK
  /postepay/api/v1/payment/details:
    post:
      tags:
        - Payment Manager Controller
      operationId: paymentDetail
      summary: Dettagli di una transazione di pagamento
      description: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeatilsPaymentRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                description: ""
                required:
                  - paymentID
                  - userRedirectURL
                  - shopId;
                  - shopTransactionId
                  - result
                  - authNumber
                  - amount
                  - description
                  - currency
                  - buyerName
                  - buyerEmail
                  - paymentChannel
                  - authType
                  - status
                  - refundedAmount
                type: object
                properties:
                  paymentID:
                    type: string
                  userRedirectURL:
                    type: string
                  shopId:
                    type: string
                  shopTransactionId:
                    type: string
                  result:
                    type: string
                  authNumber:
                    type: string
                  amount:
                    type: string
                  description:
                    type: string
                  currency:
                    type: string
                  buyerName:
                    type: string
                  buyerEmail:
                    type: string
                  paymentChannel:
                    type: string
                  authType:
                    type: string
                  status:
                    type: string
                  refundedAmount:
                    type: string
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostePayError'
  /postepay/api/v1/payment/refund:
    post:
      operationId: refundPostepayPayment
      tags:
        - Payment Manager Controller
      summary: refund transazione di pagamento
      description: ""
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefundPaymentRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                description: ""
                required:
                  - paymentID
                  - shopTransactionId
                  - transactionResult
                type: object
                properties:
                  paymentID:
                    description: identificativo della transazione di pagamento assegnato
                      da PosteItaliane
                    type: string
                  shopTransactionId:
                    type: string
                  transactionResult:
                    type: string
                    enum:
                      - OK
                      - KO
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostePayError'
  /xpay/ecomm/api/paga/autenticazione3DS:
    post:
      tags:
        - XPay Authentication Controller
      operationId: paymentAuthorization
      summary: esegue l'autenticazione3DS
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/XPayAuthRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/XPayAuthResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/XPayAuthResponseError'
  /xpay/change/autenticazione3DS/outcome:
    post:
      tags:
        - XPay Authentication Change Outcome Controller
      operationId: xpayChangeAuthenticationOutcome
      summary: permette di cambiare l'outcome dell'autenticazione3DS
      parameters:
        - in: query
          name: outcome
          example: "OK"
          schema:
            type: string
            enum:
              - "OK"
              - "KO"
        - in: query
          name: errorCode
          example: 97L
          schema:
            type: number
      responses:
        "200":
          description: OK
  /xpay/ecomm/api/paga/paga3DS:
    post:
      tags:
        - XPay Payment Controller
      operationId: xPayPayment
      summary: esegue la paga3DS
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/XPayPaymentRequest'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/XPayPaymentResponseSuccess'
        default:
          description: Errore
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/XPayPaymentResponseError'
  /xpay/change/paga3DS/outcome:
    post:
      tags:
        - XPay Payment Change Outcome Controller
      operationId: xpayChangePaymentOutcome
      summary: permette di cambiare l'outcome della paga3DS
      parameters:
        - in: query
          name: outcome
          example: "OK"
          schema:
            type: string
            enum:
              - "OK"
              - "KO"
        - in: query
          name: errorCode
          example: 97L
          schema:
            type: number
      responses:
        "200":
          description: OK

  /xpay/ecomm/api/bo/storna:
    post:
      tags:
        - XPay Refund Controller
      operationId: xPayRefund
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/XPayRefundRequest"
        required: true
      responses:
        '200':
          description: OK
          content:
            "*/*":
              schema:
                "$ref": "#/components/schemas/XPayRefundResponse"
  /xpay/ecomm/api/bo/situazioneOrdine:
    post:
      tags:
        - XPay OrderStatus Controller
      operationId: xPayOrderStatus
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/XPayOrderRequest"
        required: true
      responses:
        '200':
          description: OK
          content:
            "*/*":
              schema:
                "$ref": "#/components/schemas/XPayOrderResponse"
  /xpay/change/storna/outcome:
    post:
      tags:
        - XPay Refund Change Outcome Controller
      operationId: xPayRefundChangeOutcome
      parameters:
        - name: outcome
          in: query
          required: false
          schema:
            type: string
            enum:
              - OK
              - KO
        - name: errorCode
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
  /xpay/change/situazioneOrdine/outcome:
    post:
      tags:
        - XPay OrderStatus Change Outcome Controller
      operationId: xPayOrderStatusChangeOutcome
      parameters:
        - name: outcome
          in: query
          required: false
          schema:
            type: string
            enum:
              - OK
              - KO
        - name: errorCode
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
components:
  schemas:
    PostePayError:
      type: object
      properties:
        errorCode:
          description: Codice di errore
          type: string
        description:
          description: Descrizione tecnica dell'errore
          type: string
        message:
          description: Messaggio utente
          type: string
    StartOnboardingRequest:
      required:
        - url_return
        - id_appio
      type: object
      properties:
        url_return:
          type: string
          description: URL used to return the result
        id_appio:
          type: string
          description: user identifier
    StartOnboardingResponseSuccess:
      required:
        - esito
        - url_to_call
      type: object
      properties:
        esito:
          type: string
          enum:
            - "1"
          description: URL used to return the result
        url_to_call:
          type: string
          description: url to call to proceed with onboarding
    StartOnboardingResponseError:
      required:
        - esito
        - err_code
        - err_desc
      type: object
      properties:
        esito:
          type: string
          enum:
            - "9" #KO
          description: Api result
        err_code:
          type: string
          enum:
            - "3" #autorizzazione negata
            - "16" #id_appio non esiste
            - "-1" #timeout
        err_desc:
          type: string
    AuthorizationType:
      enum:
        - IMMEDIATA
        - DIFFERITA
      type: string
    PpPayDirectRequest:
      required:
        - id_trs_appio
        - importo
        - fee
      type: object
      properties:
        id_trs_appio:
          type: string
        importo:
          type: number
          format: double
          example: 1.00
        fee:
          type: number
          format: double
          example: 2.00
    PpDirectResponseSuccess:
      required:
        - id_trs_paypal
        - esito
      properties:
        id_trs_paypal:
          type: string
        esito:
          type: string
          enum:
            - "OK"
    PpDirectResponseError:
      required:
        - esito
        - err_code
        - err_desc
      type: object
      properties:
        esito:
          type: string
          enum:
            - "KO" #error
          description: Api result
        err_code:
          type: string
          enum:
            - "9" #input non in formato json
            - "11" #parametri non validi
            - "13" #autorizzazione negata
            - "15" #autorizzazione ip negata
            - "19" #id_appio con bilagr già associato
            - "67" #db internal error
        err_desc:
          type: string
    PpRefundDirectRequest:
      required:
        - id_trs_appio
        - importo
      type: object
      properties:
        id_trs_appio:
          type: string
        importo:
          type: number
          format: double
          example: 1.00
    PpRefundDirectResponseSuccess:
      required:
        - id_trs_paypal
        - esito
      properties:
        id_trs_paypal:
          type: string
        esito:
          type: string
          enum:
            - "OK"
    PpRefundDirectResponseError:
      required:
        - esito
        - err_code
        - err_desc
      type: object
      properties:
        esito:
          type: string
          enum:
            - "KO" #error
          description: Api result
        err_code:
          type: string
          enum:
            - "9" #input non in formato json
            - "11" #parametri non validi
            - "13" #autorizzazione negata
            - "15" #autorizzazione ip negata
            - "19" #id_appio con bilagr già associato
            - "67" #db internal error
        err_desc:
          type: string
    PPPayPalIdAppIoRequest:
      required:
        - id_appio
      properties:
        id_appio:
          type: string
    PpDefaultResponseSuccess:
      required:
        - esito
      properties:
        esito:
          type: string
          enum:
            - "OK"
    PpDefaultResponseError:
      required:
        - esito
        - err_code
        - err_desc
      type: object
      properties:
        esito:
          type: string
          enum:
            - "KO" #error
          description: Api result
        err_code:
          type: string
          enum:
            - "9" #input non in formato json
            - "11" #parametri non validi
            - "13" #autorizzazione negata
            - "15" #autorizzazione ip negata
            - "19" #id_appio con bilagr già associato
            - "67" #db internal error
        err_desc:
          type: string
    PpOnboardingBackManagementRequest:
      required:
        - id_appio
        - err_code
        - api_id
      properties:
        id_appio:
          type: string
        err_code:
          type: string
          enum:
            - "9" #input non in formato json
            - "11" #parametri non validi
            - "13" #autorizzazione negata
            - "15" #autorizzazione ip negata
            - "19" #id_appio con bilagr già associato
            - "67" #db internal error
        api_id:
          type: string
          enum:
            - "ONBOARDING"
            - "PAYMENT"
            - "REFUND"
            - "DELETE"
            - "ONBOARDING_REDIRECT"
    PpOnboardingBackManagementResponse:
      required:
        - id_appio
        - api_id
        - lastUpdateDate
        - err_info
      properties:
        id_appio:
          type: string
        api_id:
          type: string
          enum:
            - "ONBOARDING"
            - "PAYMENT"
            - "REFUND"
            - "DELETE"
            - "ONBOARDING_REDIRECT"
        lastUpdateDate:
          type: string
          example: "dd/MM/yyyy HH:ss:SSSS"
        err_info:
          type: object
          properties:
            code:
              type: string
            description:
              type: string
            httpStatus:
              type: string
            httpCode:
              type: number
              format: integer
            allowed:
              type: array
              items:
                type: string
                enum:
                  - "ONBOARDING"
                  - "PAYMENT"
                  - "REFUND"
                  - "DELETE"
                  - "ONBOARDING_REDIRECT"
    PpResponseErrorInfo:
      properties:
        code:
          type: string
        description:
          type: string
        httpStatus:
          type: string
        httpCode:
          type: number
          format: integer
        allowed:
          type: array
          items:
            type: string
            enum:
              - "ONBOARDING"
              - "PAYMENT"
              - "REFUND"
              - "DELETE"
              - "ONBOARDING_REDIRECT"
    DeatilsPaymentRequest:
      description: ""
      required:
        - shopId
        - shopTransactionId
        - paymentID
      type: object
      properties:
        shopId:
          description: identificativo del negozio
          type: string
        shopTransactionId:
          description: identificativo della transazione lato merchant
          type: string
        paymentID:
          description: paymentID
          type: string
    OnboardingPostepayRequest:
      description: ""
      required:
        - shopId
        - merchantId
        - onboardingTransactionId
        - paymentChannel
        - responseURLs
      type: object
      properties:
        shopId:
          description: identificativo del negozio
          type: string
        merchantId:
          description: identificativo del merchant
          type: string
        onboardingTransactionId:
          description: id onboarding transaction Id
          type: string
        paymentChannel:
          allOf:
            - $ref: '#/components/schemas/PaymentChannel'
            - description: "canale di pagamento, puo essere valorizzato con APP/WEB"
        responseURLs:
          allOf:
            - $ref: '#/components/schemas/ResponseURLs'
            - description: URL di ritorno
    CreatePaymentRequest:
      description: ""
      required:
        - shopId
        - shopTransactionId
        - amount
        - currency
        - paymentChannel
        - authType
        - responseURLs
      type: object
      properties:
        shopId:
          description: identificativo del negozio
          type: string
        shopTransactionId:
          description: identificativo della transazione lato merchant
          type: string
        amount:
          description: importo
          type: string
        description:
          description: descrizione della transazione presentata al cliente
          type: string
        currency:
          description: valuta in codice ISO (EUR = 978)
          type: string
        buyerName:
          description: nome del cliente
          type: string
        buyerEmail:
          description: indirizzo email del cliente
          type: string
        paymentChannel:
          allOf:
            - $ref: '#/components/schemas/PaymentChannel'
            - description: "canale di pagamento, puo essere valorizzato con APP/WEB"
        authType:
          allOf:
            - $ref: '#/components/schemas/AuthorizationType'
            - description: "tipo di autorizzazione, puo essere valorizzato con IMMEDIATA/DIFFERITA"
        responseURLs:
          allOf:
            - $ref: '#/components/schemas/ResponseURLs'
            - description: URL di ritorno
    RefundPaymentRequest:
      description: ""
      required:
        - shopId
        - shopTransactionId
        - merchantId
        - paymentID
        - authNumber
        - currency
      type: object
      properties:
        shopId:
          description: identificativo del negozio
          type: string
        shopTransactionId:
          description: identificativo della transazione lato merchant
          type: string
        amount:
          description: importo
          type: string
        reason:
          description: descrizione della transazione presentata al cliente
          type: string
        currency:
          description: valuta in codice ISO (EUR = 978)
          type: string
        merchantId:
          type: string
        paymentID:
          type: string
        authNumber:
          type: string
    PaymentChannel:
      enum:
        - WEB
        - APP
      type: string
    ResponseURLs:
      description: ""
      required:
        - responseUrlOk
        - responseUrlKo
        - serverNotificationUrl
      type: object
      properties:
        responseUrlOk:
          description: URL di redirect dell'utente per transazione OK completa di
            eventuali parametri da passare
          type: string
        responseUrlKo:
          description: URL di redirect dell'utente per transazione KO completa di
            eventuali parametri da passare
          type: string
        serverNotificationUrl:
          description: URL presso la quale sarà eseguita la chiamata di conferma del
            pagamento solo per i casi OK
          type: string
    XPayAuthRequest:
      description: ""
      required:
        - apiKey
        - urlRisposta
        - codiceTransazione
        - importo
        - divisa
        - pan
        - scadenza
        - cvv
        - timeStamp
        - mac
      type: object
      properties:
        apiKey:
          type: string
        urlRisposta:
          type: string
        codiceTransazione:
          type: string
        importo:
          type: number
          format: BigInteger
        divisa:
          description: valuta in codice ISO (EUR = 978)
          type: number
          format: long
        pan:
          type: string
        scadenza:
          type: string
        cvv:
          type: string
        timeStamp:
          type: string
        mac:
          type: string
    XPayAuthResponseSuccess:
      description: ""
      required:
        - esito
        - idOperazione
        - timeStamp
        - mac
      type: object
      properties:
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        timeStamp:
          type: number
          format: long
        html:
          type: string
        mac:
          type: string
    XPayAuthResponseError:
      description: ""
      required:
        - esito
        - idOperazione
        - timeStamp
      type: object
      properties:
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        timeStamp:
          type: number
          format: long
        errore:
          $ref: '#/components/schemas/XPayError'
        mac:
          type: string
    XPayError:
      required:
        - codice
        - messaggio
      properties:
        codice:
          type: number
          format: long
        messaggio:
          type: string
    XPayPaymentRequest:
      description: ""
      required:
        - apiKey
        - codiceTransazione
        - importo
        - divisa
        - xpayNonce
        - timeStamp
        - mac
      type: object
      properties:
        apiKey:
          type: string
        codiceTransazione:
          type: string
        importo:
          type: number
          format: BigInteger
        divisa:
          description: valuta in codice ISO (EUR = 978)
          type: number
          format: long
        xpayNonce:
          type: string
        timeStamp:
          type: string
        mac:
          type: string
        parametriAggiuntivi:
          $ref: '#/components/schemas/XPayAdditionalParameters'
    XPayAdditionalParameters:
      properties:
        mail:
          type: string
        nome:
          type: string
        cognome:
          type: string
        descrizione:
          type: string
        note1:
          type: string
        XPayTconTabEnum:
          type: string
          enum:
            - C
            - D
    XPayPaymentResponseSuccess:
      description: ""
      required:
        - esito
        - idOperazione
        - timeStamp
        - mac
        - codiceAutorizzazione
        - codiceConvenzione
        - data
        - nazione
        - regione
        - brand
        - tipoProdotto
        - tipoTransazione
      type: object
      properties:
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        timeStamp:
          type: number
          format: long
        mac:
          type: string
        codiceAutorizzazione:
          type: string
        codiceConvenzione:
          type: string
        data:
          type: string
        nazione:
          type: string
        regione:
          type: string
        brand:
          type: string
        tipoProdotto:
          type: string
        tipoTransazione:
          type: string
        ppo:
          type: string
        parametriAggiuntivi:
          $ref: '#/components/schemas/XPayAdditionalParameters'
    XPayPaymentResponseError:
      description: ""
      required:
        - esito
        - idOperazione
        - timeStamp
      type: object
      properties:
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        timeStamp:
          type: number
          format: long
        errore:
          $ref: '#/components/schemas/XPayError'
        mac:
          type: string
    XPayRefundRequest:
      required:
        - apiKey
        - codiceTransazione
        - divisa
        - importo
        - mac
        - timeStamp
      type: object
      properties:
        apiKey:
          type: string
        codiceTransazione:
          type: string
        importo:
          type: integer
        divisa:
          type: integer
          format: int64
        timeStamp:
          type: string
        mac:
          type: string
        idContabParzialePayPal:
          type: string
    XPayInfoApm:
      type: object
      properties:
        apm:
          type: string
        info:
          type: string
    XPayRefundResponse:
      type: object
      properties:
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        timeStamp:
          type: integer
          format: int64
        mac:
          type: string
        infoAPM:
          "$ref": "#/components/schemas/XPayInfoApm"
        errore:
          "$ref": "#/components/schemas/XPayError"
    XPayOrderRequest:
      required:
        - apiKey
        - codiceTransazione
        - mac
        - timeStamp
      type: object
      properties:
        apiKey:
          type: string
        codiceTransazione:
          type: string
        timeStamp:
          type: string
        mac:
          type: string
    XPayOrderResponse:
      type: object
      properties:
        timeStamp:
          type: integer
          format: int64
        esito:
          type: string
          enum:
            - OK
            - KO
        idOperazione:
          type: string
        scadenza:
          type: string
        mac:
          type: string
        errore:
          "$ref": "#/components/schemas/XPayError"
        report:
          "$ref": "#/components/schemas/XPayReport"
    XPayReport:
      type: object
      properties:
        numeroMerchant:
          type: string
        codiceTransazione:
          type: string
        importo:
          type: integer
        divisa:
          type: string
        codiceAutorizzazione:
          type: string
        brand:
          type: string
        tipoPagamento:
          type: string
        tipoTransazione:
          type: string
        nazione:
          type: string
        tipoProdotto:
          type: string
        pan:
          type: string
        parametri:
          type: string
        stato:
          type: string
        dataTransazione:
          type: string
        mail:
          type: string
        dettaglio:
          "$ref": "#/components/schemas/XPayReportDetail"
    XPayReportDetail:
      type: object
      properties:
        nome:
          type: string
        cognome:
          type: string
        mail:
          type: string
        importo:
          type: integer
        importoRifiutato:
          type: integer
        divisa:
          type: string
        stato:
          type: string
        codiceTransazione:
          type: string
        parametriAggiuntivi:
          type: string
        controvaloreValuta:
          type: integer
        decimaliValuta:
          type: integer
          format: int32
        tassoCambio:
          type: integer
        codiceValuta:
          type: integer
          format: int32
        flagValuta:
          type: boolean
        operazioni:
          type: array
          items:
            "$ref": "#/components/schemas/XPayReportOperations"
    XPayReportOperations:
      type: object
      properties:
        tipoOperazione:
          type: string
        importo:
          type: integer
        divisa:
          type: string
        stato:
          type: string
        dataOperazione:
          type: string
        utente:
          type: string
        idContabParzialePayPal:
          type: string
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: string